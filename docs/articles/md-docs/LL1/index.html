<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        Document
    </title>
    <link rel='stylesheet' href=../../../css/prism.css /><link rel='stylesheet' href=../../../css/index.css />
    <link rel="icon" href="https://raw.githubusercontent.com/learner-lu/picbed/master/logo.png">
</head>

<body class="light">
    <div class="header-navigator"><ul><li><a href="#h1-0">LL1</a><ul><li><a href="#h3-1">LL(1)文法</a></li></ul></li></ul></div><div class='markdown-body'><h1 id="h1-0">LL1</h1><h3 id="h3-1">LL(1)文法</h3><p>什么是LL1文法?</p><ul><li>第一个L代表从左至右</li></ul><ul><li>第二个L代表产生最左推导</li></ul><ul><li>1代表每一步中只需要向前看一个输入符号就可以决定语法分析动作</li></ul><p>之前我们提到了如何计算FIRST集和FOLLOW集,既然我们已经知道了在某一状态的开头的字符都是什么,后面跟着字符都可能是什么,那么我们就可以做出预测分析.</p><p>由此引出了<code>可选集-SELECT集</code>的概念</p><p>SELECT集是指选用该产生式时的输入符号的集合</p><p>SELECT集的求法也比较简单</p><ul><li>当产生式非空时,将首终结符加入SELECT集中,如果首字符是非终结符那么将该非终结符的FIRST集加入SELECT集中</li></ul><ul><li>当产生式为空时,将FOLLOW集加入SELECT集中</li></ul><p>这里值得注意的一点是,现在得到的文法很有可能是多个 | 连接起来的,在计算SELECT集的时候我们需要把它们都拆开,比如 A -&gt aBc | ST | c,应该分解为 A-&gtaBc,A-&gtST,A-&gtc. 在分别计算它们的SELECT(A-&gtaBc),SELECT(A-&gtST),SELECT(A-&gtc)</p><p>FIRST集和SELECT集中是可以有ε的,只有FOLLOW集中没有ε,应该说是没有出现的必要.</p><p>对于之前的例子</p><pre><code class="language-txt">S -&gt; (L) | a
L -&gt; SL'
L' -&gt; ,SL' | ε</code></pre><table><tr><th>FIRST集</th><th>元素</th><th>FOLLOW集</th><th>元素</th></tr><tr><td style="text-align:center">                FIRST(S)</td><td style="text-align:center">                {(,a}</td><td style="text-align:center">                FOLLOW(S)</td><td style="text-align:center">                {$,<code>,</code>,)}</td></tr><tr><td style="text-align:center">                FIRST(L)</td><td style="text-align:center">                {(,a}</td><td style="text-align:center">                FOLLOW(L)</td><td style="text-align:center">                {$,)}</td></tr><tr><td style="text-align:center">                FIRST(L')</td><td style="text-align:center">                {<code>,</code>,ε}</td><td style="text-align:center">                FOLLOW(L')</td><td style="text-align:center">                {$,)}</td></tr></table><p>记得拆开 | 哦~</p><table><tr><th>SELECT</th><th>ITEM</th></tr><tr><td style="text-align:center">                SELECT(S-&gt(L))</td><td style="text-align:center">                {(}</td></tr><tr><td style="text-align:center">                SELECT(S-&gta)</td><td style="text-align:center">                {a}</td></tr><tr><td style="text-align:center">                SELECT(L-&gtSL')</td><td style="text-align:center">                {(,a}</td></tr><tr><td style="text-align:center">                SELECT(L'-&gt,SL')</td><td style="text-align:center">                {,}</td></tr><tr><td style="text-align:center">                SELECT(L'-&gtε)</td><td style="text-align:center">                {$,)}</td></tr></table><p>对于具有相同左部的SELECT集,只要它们不相交,那么我们可以根据它SELECT集中的元素唯一的选择一个产生式由于推断,这样就避免了回溯,这就是LL1文法的优势.</p><p>这样我们就得到了一个表格,我们可以把它画出来</p><p>横坐标中的输入符号就是所有出现在SELECT集后面的元素纵坐标就是所有的左部的非终结符</p><table><tr><th>非终结符</th><th>(</th><th>)</th><th>,</th><th>a</th><th>$</th></tr><tr><td style="text-align:center">                S</td><td style="text-align:center">                S-&gt(L)</td><td style="text-align:center">                </td><td style="text-align:center">                </td><td style="text-align:center">                S-&gta</td><td style="text-align:center">                </td></tr><tr><td style="text-align:center">                L</td><td style="text-align:center">                L-&gtSL'</td><td style="text-align:center">                L-&gtSL'</td><td style="text-align:center">                </td><td style="text-align:center">                </td><td style="text-align:center">                </td></tr><tr><td style="text-align:center">                L'</td><td style="text-align:center">                </td><td style="text-align:center">                L'-&gtε</td><td style="text-align:center">                L'-&gt,SL'</td><td style="text-align:center">                </td><td style="text-align:center">                L'-&gtε</td></tr></table><p>那么这个分析表应该怎么用呢</p><p>我们不妨先来做一道题,我会将我的解答放在下面,不过建议你先独立做完这道题再看</p><p><img src="https://raw.githubusercontent.com/learner-lu/picbed/master/20220428201954.png" alt="20220428201954"></p><ol start="1"><li>试写出 ¬(a→a)$ 的一个最左推导<pre><code class="language-txt">F -&gt; ¬F
F -&gt; ¬(F)
F -&gt; ¬(F→F)
F -&gt; ¬(a→F)
F -&gt; ¬(a→a)</code></pre></li></ol><ol start="2"><li>消除左递归和左公因子<pre><code class="language-txt">F -&gt; ¬FT | (F)T | aT
T -&gt; →FT | ε</code></pre></li></ol><ol start="3"><li>求FIRST集 FOLLOW集<table><tr><th>FIRST</th><th>ITEM</th><th>FOLLOW</th><th>ITEM</th></tr><tr><td style="text-align:center">                FIRST(F)</td><td style="text-align:center">                {¬,(,a}</td><td style="text-align:center">                FOLLOW(F)</td><td style="text-align:center">                {$,),→}</td></tr><tr><td style="text-align:center">                FIRST(T)</td><td style="text-align:center">                {→,ε}</td><td style="text-align:center">                FOLLOW(T)</td><td style="text-align:center">                {$,),→}</td></tr></table></li></ol><ol start="4"><li>LL1分析表<table><tr><th>SELECT</th><th>ITEM</th></tr><tr><td style="text-align:center">                SELECT(F-&gt¬FT)</td><td style="text-align:center">                {¬}</td></tr><tr><td style="text-align:center">                SELECT(F-&gt(F)T)</td><td style="text-align:center">                {(}</td></tr><tr><td style="text-align:center">                SELECT(F-&gtaT)</td><td style="text-align:center">                {a}</td></tr><tr><td style="text-align:center">                SELECT(T-&gt→FT)</td><td style="text-align:center">                {→}</td></tr><tr><td style="text-align:center">                SELECT(T-&gtε)</td><td style="text-align:center">                {$,),→}</td></tr></table><table><tr><th>非终结符</th><th>¬</th><th>(</th><th>a</th><th>$</th><th>)</th><th>→</th></tr><tr><td style="text-align:center">                F</td><td style="text-align:center">                F-&gt¬FT</td><td style="text-align:center">                F-&gt(F)T</td><td style="text-align:center">                F-&gtaT</td><td style="text-align:center">                </td><td style="text-align:center">                </td><td style="text-align:center">                </td></tr><tr><td style="text-align:center">                T</td><td style="text-align:center">                </td><td style="text-align:center">                T-&gtε</td><td style="text-align:center">                T-&gtε</td><td style="text-align:center">                T-&gtε</td><td style="text-align:center">                T-&gtε</td><td style="text-align:center">                T-&gt→FT|ε</td></tr></table><p>当输入为→且非终结符为T时,存在两个产生式,SELECT(T-&gt→FT)与SELECT(T-&gtε)存在交集.所以不是LL1文法</p></li></ol><ol start="5"><li>¬(a→a)的推导过程<p>推导过程就是一个根据分析表一步步解析,消减的过程,如下</p><table><tr><th>剩余串</th><th>分析栈</th><th>分析动作</th></tr><tr><td style="text-align:center">                ¬(a→a)$</td><td style="text-align:center">                F$</td><td style="text-align:center">                F-&gt¬FT</td></tr><tr><td style="text-align:center">                ¬(a→a)$</td><td style="text-align:center">                ¬FT$</td><td style="text-align:center">                </td></tr><tr><td style="text-align:center">                (a→a)$</td><td style="text-align:center">                FT$</td><td style="text-align:center">                F-&gt(F)T</td></tr><tr><td style="text-align:center">                (a→a)$</td><td style="text-align:center">                (F)TT$</td><td style="text-align:center">                </td></tr><tr><td style="text-align:center">                a→a)$</td><td style="text-align:center">                F)TT$</td><td style="text-align:center">                F-&gtaT</td></tr><tr><td style="text-align:center">                a→a)$</td><td style="text-align:center">                aT)TT$</td><td style="text-align:center">                </td></tr><tr><td style="text-align:center">                →a)$</td><td style="text-align:center">                T)TT$</td><td style="text-align:center">                T-&gt→FT</td></tr><tr><td style="text-align:center">                →a)$</td><td style="text-align:center">                →FT)TT$</td><td style="text-align:center">                </td></tr><tr><td style="text-align:center">                a)$</td><td style="text-align:center">                FT)TT$</td><td style="text-align:center">                F-&gtaT</td></tr><tr><td style="text-align:center">                a)$</td><td style="text-align:center">                aTT)TT$</td><td style="text-align:center">                </td></tr><tr><td style="text-align:center">                )$</td><td style="text-align:center">                TT)TT$</td><td style="text-align:center">                T-&gtε</td></tr><tr><td style="text-align:center">                )$</td><td style="text-align:center">                T)TT$</td><td style="text-align:center">                T-&gtε</td></tr><tr><td style="text-align:center">                )$</td><td style="text-align:center">                )TT$</td><td style="text-align:center">                </td></tr><tr><td style="text-align:center">                $</td><td style="text-align:center">                TT$</td><td style="text-align:center">                T-&gtε</td></tr><tr><td style="text-align:center">                $</td><td style="text-align:center">                T$</td><td style="text-align:center">                T-&gtε</td></tr><tr><td style="text-align:center">                $</td><td style="text-align:center">                $</td><td style="text-align:center">                </td></tr></table></li></ol></div>
    <div class="dir-tree"><ul><li><a href="../../md-docs/README" >README</a></li></ul><ul><li><a href="../../md-docs/上下文无关文法" >上下文无关文法</a></li></ul><ul><li><a href="../../md-docs/消除左递归" >消除左递归</a></li></ul><ul><li><a href="../../md-docs/first-follow-select" >first-follow-select</a></li></ul><ul><li><a href="../../md-docs/LL1" >LL1</a></li></ul><ul><li><a href="../../md-docs/RE-NFA-DFA" >RE-NFA-DFA</a></li></ul><ul><li><a href="../../md-docs/使用方法" >使用方法</a></li></ul><ul><li><a href="../../编译原理/第一章-引论" >编译原理</a><ul><li><a href="../../编译原理/第一章-引论" >第一章-引论</a></li></ul></li></ul></div>
    <div class="zood"><a class="" href="https://github.com/luzhixing12345/zood" target="_blank">zood</a></div>
    <script type="text/javascript" src="../../../js/next_front.js"></script><script>addLink("../../md-docs/first-follow-select","../../md-docs/RE-NFA-DFA","ab")</script><script type="text/javascript" src="../../../js/change_mode.js"></script><script>addChangeModeButton("../../../img/sun.png","../../../img/moon.png")</script><script type="text/javascript" src="../../../js/copy_code.js"></script><script>addCodeCopy("../../../img/before_copy.png","../../../img/after_copy.png")</script><script type="text/javascript" src="../../../js/navigator.js"></script><script type="text/javascript" src="../../../js/prism.js"></script><script type="text/javascript" src="../../../js/picture_preview.js"></script><script type="text/javascript" src="../../../js/check_box.js"></script>
</body>

</html>